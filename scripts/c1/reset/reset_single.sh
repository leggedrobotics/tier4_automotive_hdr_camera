#!/bin/bash

# if you don't want to show i2cset command on your screen
# comment out the line of "set -x"

set -x

echo 1 > /sys/kernel/debug/bpmp/debug/clk/i2c2/mrq_rate_locked

echo 400000 > /sys/kernel/debug/bpmp/debug/clk/i2c2/rate

i2cset -f -y 30 0x42 0x00 0x10 0x80 i
i2cset -f -y 30 0x60 0x00 0x10 0x80 i
i2cset -f -y 30 0x48 0x00 0x10 0x80 i

i2cset -f -y 30 0x48  0x00 0x10 0x01 i
i2cset -f -y 30 0x48  0x00 0x10 0x21 i

i2cset -f -y 30 0x62  0x00 0x00 0x84 i

i2cset -f -y 30 0x42  0x00 0x10 0x21 i
i2cset -f -y 30 0x42  0x00 0x6B 0x10 i
i2cset -f -y 30 0x42  0x00 0x73 0x11 i
i2cset -f -y 30 0x42  0x00 0x7B 0x31 i
i2cset -f -y 30 0x42  0x00 0x83 0x31 i
i2cset -f -y 30 0x42  0x00 0x93 0x31 i
i2cset -f -y 30 0x42  0x00 0x9B 0x31 i
i2cset -f -y 30 0x42  0x00 0xA3 0x31 i
i2cset -f -y 30 0x42  0x00 0xAB 0x31 i
i2cset -f -y 30 0x42  0x00 0x8B 0x31 i
i2cset -f -y 30 0x42  0x00 0x44 0x36 i
i2cset -f -y 30 0x42  0x00 0x45 0x34 i
i2cset -f -y 30 0x42  0x02 0xBE 0x90 i
i2cset -f -y 30 0x42  0x02 0xBF 0x60 i
i2cset -f -y 30 0x42  0x03 0xF1 0x89 i

i2cset -f -y 30 0x48  0x00 0x10 0x03 i
i2cset -f -y 30 0x48  0x00 0x10 0x23 i

i2cset -f -y 30 0x48  0x00 0x10 0x01 i
i2cset -f -y 30 0x48  0x00 0x10 0x21 i
#i2cset -f -y 30 0x62  0x00 0x00 0xC0 i

#i2cset -f -y 30 0x60  0x00 0x10 0x22 i

i2cset -f -y 30 0x42  0x03 0x30 0x00 i
i2cset -f -y 30 0x42  0x03 0x31 0x30 i
i2cset -f -y 30 0x42  0x03 0x32 0xE0 i
i2cset -f -y 30 0x42  0x03 0x33 0x04 i
i2cset -f -y 30 0x42  0x03 0x14 0xF0 i
#i2cset -f -y 30 0x42  0x03 0x14 0xDE i
i2cset -f -y 30 0x42  0x03 0x18 0x5E i
i2cset -f -y 30 0x42  0x03 0x11 0xF0 i
i2cset -f -y 30 0x42  0x03 0x08 0x65 i
i2cset -f -y 30 0x42  0x00 0x02 0xF3 i
i2cset -f -y 30 0x48  0x04 0x0B 0x07 i
i2cset -f -y 30 0x48  0x04 0x2D 0x15 i
i2cset -f -y 30 0x48  0x04 0x0D 0x1E i
i2cset -f -y 30 0x48  0x04 0x0E 0x1E i
i2cset -f -y 30 0x48  0x04 0x0F 0x00 i
i2cset -f -y 30 0x48  0x04 0x10 0x00 i
i2cset -f -y 30 0x48  0x04 0x11 0x01 i
i2cset -f -y 30 0x48  0x04 0x12 0x01 i
i2cset -f -y 30 0x48  0x04 0x4A 0x40 i
i2cset -f -y 30 0x48  0x03 0x30 0x04 i
i2cset -f -y 30 0x48  0x03 0x33 0x4E i
i2cset -f -y 30 0x48  0x03 0x34 0xE4 i
i2cset -f -y 30 0x48  0x03 0x20 0x2F i
i2cset -f -y 30 0x48  0x00 0x05 0xC0 i
i2cset -f -y 30 0x42  0x02 0xD6 0x00 i
i2cset -f -y 30 0x42  0x02 0xCD 0x04 i
i2cset -f -y 30 0x42  0x02 0xCA 0x10 i
i2cset -f -y 30 0x42  0x02 0xD6 0x10 i

i2cset -f -y 30 0x1b  0xAB 0xC0 0x00 i
i2cset -f -y 30 0x1b  0xAC 0x4E 0x03 i
i2cset -f -y 30 0x1b  0xAC 0x48 0xE8 i
i2cset -f -y 30 0x1b  0xAC 0x49 0x80 i

i2cset -f -y 30 0x48  0x00 0x50 0x02 i

echo 136000000 > /sys/kernel/debug/bpmp/debug/clk/i2c2/rate

echo 0 > /sys/kernel/debug/bpmp/debug/clk/i2c2/mrq_rate_locked

